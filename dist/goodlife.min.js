(function(e){var t=6e4,n="gl.items",r=function(e){return/^\./.test(e)},i=function(e){return/\.$/.test(e)},s=function(e){return e.indexOf(n+".")===0},o=function(e,t){return e=f(e),t[e].birth},u=function(e,t){var n=e;e=f(e);var r,i,s;return typeof t=="object"?(t=JSON.stringify(t),r=!0):typeof t=="number"&&(s=!0),localStorage.setItem(e,t),h(e),r?(i=l(),i[e].isObject=!0,c(i)):s&&(i=l(),i[e].isNumber=!0,c(i)),i||(i=l()),i[e].birth},a=function(e){e=f(e);var t=localStorage.getItem(e),n=l();return n[e].isObject?t=JSON.parse(t):n[e].isNumber&&(t=parseFloat(t)),t},f=function(e){return r(e)||(e="."+e),n+e},l=function(e){var t=e||n,r=localStorage.getItem(t);return r||localStorage.setItem(n,JSON.stringify({})),JSON.parse(localStorage.getItem(t))},c=function(e){localStorage.setItem(n,JSON.stringify(e))},h=function(e){var t=l();t[e]={},t[e].birth=Date.now(),c(t)},p=function(e){var t=l();delete t[e],this._saveItems(t)},d=function(n){return e.store.age(n)>t},v=function(t){if(e.store.itemExists(t)){var n=l();n[t].lastAccess=Date.now(),c(n)}},m=function(e){e=f(e);var t=l();return localStorage.getItem(e)&&t[e]?!0:!1},g=function(t){t=f(t);if(e.store.localStorageSupport()){var n=l();localStorage.removeItem(t),delete n[t],c(n)}},y=function(e){var t=l();if(m(e)){var t=l(),n=f(e);if(t[n]){var r=Date.now()-t[n].birth;return r}}};e.store={setNamespace:function(e){i(e)?n=e+"items":n=e+".items"},originalNamespace:function(){n="gl.items"},setCacheMaxAge:function(e){t=e},getCacheMaxAge:function(){return t},itemExists:function(e){return m(e)},age:function(e){return y(e)},init:function(){localStorage.setItem(n,JSON.stringify({}))},localStorageSupport:function(){try{return"localStorage"in window&&window.localStorage!==null}catch(e){return!1}},get:function(e){if(this.localStorageSupport()&&!d(e))return a(e)},save:function(e,t,n){this.localStorageSupport()&&u(e,t)},remove:function(e){g(e)},clear:function(){this.localStorageSupport()&&(localStorage.clear(),this.init())}}})(window.GoodLife=window.GoodLife||{});